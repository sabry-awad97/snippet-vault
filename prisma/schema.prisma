datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

generator client {
    provider = env("PRISMA_CLIENT_PROVIDER")
    output   = env("PRISMA_OUTPUT")
}

model User {
    id           String   @id @default(auto()) @map("_id") @db.ObjectId
    name         String
    email        String   @unique
    passwordHash String
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt

    @@map("users")
}

model Snippet {
    id        String       @id @default(auto()) @map("_id") @db.ObjectId
    title     String
    language  String
    code      String
    tags      String[]     @default([])
    state     SnippetState
    createdAt DateTime     @default(now())
    updatedAt DateTime     @updatedAt

    @@map("snippets")
}

type SnippetState {
    isFavorite Boolean @default(false)
    isDark     Boolean @default(false)
}
